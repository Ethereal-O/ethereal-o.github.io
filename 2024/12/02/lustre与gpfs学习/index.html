<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Ethereal">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2024/12/02/lustreä¸gpfså­¦ä¹ /"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="1. ç‰¹ç‚¹ lustreåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ”¯æŒldiskfså’Œzfsä¸¤ç§æ–‡ä»¶ç³»ç»Ÿï¼Œldiskfsæ˜¯åŸºäºext4æ–‡ä»¶ç³»ç»Ÿå®šåˆ¶ä¼˜åŒ–è€Œæ¥ï¼ˆéœ€è¦ä¿®æ”¹å†…æ ¸ï¼‰ï¼›zfsåˆ™æ˜¯é‡‡ç”¨openzfsçš„é¡¹ç›®ã€‚  2. lustreæ ¸å¿ƒç»„ä»¶  MGS(Management Server) :æä¾›æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ä¸å´©æºƒæ¢å¤  MGT(Management Target):MGTæ˜¯MGSç”¨äºå­˜å‚¨lustreæ–‡ä»¶ç³»ç»Ÿé…ç½®ä¿¡æ¯çš„">
<meta property="og:type" content="article">
<meta property="og:title" content="lustreä¸gpfså­¦ä¹ ">
<meta property="og:url" content="http://example.com/2024/12/02/lustre%E4%B8%8Egpfs%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1. ç‰¹ç‚¹ lustreåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ”¯æŒldiskfså’Œzfsä¸¤ç§æ–‡ä»¶ç³»ç»Ÿï¼Œldiskfsæ˜¯åŸºäºext4æ–‡ä»¶ç³»ç»Ÿå®šåˆ¶ä¼˜åŒ–è€Œæ¥ï¼ˆéœ€è¦ä¿®æ”¹å†…æ ¸ï¼‰ï¼›zfsåˆ™æ˜¯é‡‡ç”¨openzfsçš„é¡¹ç›®ã€‚  2. lustreæ ¸å¿ƒç»„ä»¶  MGS(Management Server) :æä¾›æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ä¸å´©æºƒæ¢å¤  MGT(Management Target):MGTæ˜¯MGSç”¨äºå­˜å‚¨lustreæ–‡ä»¶ç³»ç»Ÿé…ç½®ä¿¡æ¯çš„">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_a84a3924-0bf6-11ed-8f79-fa163eb4f6be.png">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_a876799e-0bf6-11ed-8f79-fa163eb4f6be.png">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_aa646f72-0bf6-11ed-8f79-fa163eb4f6be.png">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_ad890140-0bf6-11ed-8f79-fa163eb4f6be.png">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_b1b190a2-0bf6-11ed-8f79-fa163eb4f6be.png">
<meta property="og:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20211222_05f4333e-6334-11ec-8889-fa163eb4f6be.png">
<meta property="article:published_time" content="2024-12-01T16:12:48.000Z">
<meta property="article:modified_time" content="2025-12-08T13:03:57.012Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_a84a3924-0bf6-11ed-8f79-fa163eb4f6be.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-favicon.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-favicon.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/redefine-favicon.svg">
    <!--- Page Info-->
    
    <title>
        
            lustreä¸gpfså­¦ä¹  -
        
        Ethereal&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"example.com","root":"/","language":"en"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":false,"id":null},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"Welcome to Ethereal's Blog","subtitle":{"text":["A willing horse needs no spur."],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":false,"links":{"github":null,"instagram":null,"zhihu":null,"twitter":null,"email":null},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.2.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Github":{"path":"https://github.com/Ethereal-O/","icon":"fa-brands fa-github"},"CSDN":{"path":"https://blog.csdn.net/weixin_51969975","icon":"fa-brands fa-stack-overflow"},"Links":{"icon":"fa-regular fa-link","submenus":{"Fontawesome":"https://fontawesome.com/search","Iconfont":"https://www.iconfont.cn/","Redefine":"https://redefine-docs.ohevan.com/introduction","Linyu":"https://www.linyu.cool/","Electronic-Waste":"https://blog.electronicwaste.cn/?","Thysrael":"https://thysrael.github.io/?","World-explorer":"https://www.cnblogs.com/world-explorer"}}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2023/8/1 00:00:00"};
    Global.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            $logo-title-font-size = 2rem
$desktop-search-icon-font-size = 1.5rem
$navbar-bar-line-height = 2.5px
$logo-image-box-width = 46px

@import '../../common/variables'

.navbar-container
  font-family 'Chillax-Variable', sans-serif
  width 100%
  height 100%
  box-sizing border-box
  display flex
  align-items center
  justify-content center
  background $nav-color-bg
  -webkit-backdrop-filter blur(10px)
  backdrop-filter blur(10px)
  padding-top $scroll-progress-bar-height
  hover-style(
    false,
    0,
    0
  )

  .navbar-content
    position relative
    height 100%
    width $main-content-width
    max-width $content-max-width
    display flex
    flex-direction row
    justify-content space-between
    align-items center
    z-index $z-index-5

    &.has-home-banner
      max-width: $content-max-width * 1.2

    +redefine-tablet()
      width $main-content-width-tablet

    +redefine-mobile()
      width $main-content-width-mobile

    .left
      display flex
      align-items center
      transition-t('transform', '0', '0.2', 'linear')

      .navbar-shrink &
        transform scale(0.72)
        transform-origin left

      if (hexo-config('defaults.logo') && hexo-config('defaults.logo') != '')
        .logo-image
          width $logo-image-box-width
          height $logo-image-box-width
          margin-right 8px

          +redefine-tablet()
            width: $logo-image-box-width * 0.9
            height: $logo-image-box-width * 0.9

          +redefine-mobile()
            width: $logo-image-box-width * 0.8
            height: $logo-image-box-width * 0.8

          img
            border-radius 6px
            width 100%

      .logo-title
        font-size $logo-title-font-size
        font-weight 520
        // letter-spacing 1px
        line-height 1
        color var(--first-text-color)

        h1
          margin 0
          font-size $logo-title-font-size
          font-weight 520
          //letter-spacing 1px
          line-height 1
          color var(--first-text-color)

          +redefine-tablet()
            font-size: $logo-title-font-size * 0.9

          +redefine-mobile()
            font-size: $logo-title-font-size * 0.8

        +redefine-tablet()
          font-size: $logo-title-font-size * 0.9

        +redefine-mobile()
          font-size: $logo-title-font-size * 0.8

    .right
      .desktop
        .navbar-list
          display flex
          align-items center

          +redefine-tablet()
            display none

          .navbar-item
            float left
            // padding 5px
            position relative
            margin-left 30px
            font-size 1rem
            font-weight 450
            cursor pointer
            color var(--default-text-color)

            a
              display block
              padding 5px

            &:first-child
              margin-left 0

            a .fa-chevron-down
              transform rotate(0deg)
              transition transform 0.3s ease

            &:hover a .fa-chevron-down
              transform rotate(180deg)

            &:hover .has-dropdown
              &::after
                display none !important

            &:hover a, .active
              &::after
                content ''
                position absolute
                bottom -5px
                left 50%
                width 100%
                height 2px
                transform translateX(-50%)
                border-radius $redefine-border-radius-large
                background var(--primary-color)
                transition-t('transform, bottom', '0, 0', '0.2, 0.2', 'linear, linear')

                .navbar-shrink &
                  bottom -($navbar-shrink-height / 2 - 17)

            &.search
              font-size $desktop-search-icon-font-size
              margin-left 26px

              i
                color var(--default-text-color)

            .sub-menu
              position absolute
              right auto
              left 50%
              -webkit-transform translate(-50%, 0)
              -o-transform translate(-50%, 0)
              transform translate(-50%, 0)
              margin-top 0px
              width auto
              text-align center
              list-style none
              padding 0 10px
              border-radius $redefine-border-radius-large
              // visibility hidden
              max-height 0px
              overflow hidden
              transition-t('all', '0', '0.2', 'linear')

              li a
                white-space nowrap
                color var(--default-text-color)
                font-size 1rem
                padding 3px 15px
                display block
                text-align center
                border-radius 8px
                transition-t('all', '0', '0.2', 'linear')

                &:hover
                  color var(--primary-color)
                  background-color var(--third-background-color)

        .navbar-list .navbar-item:hover .sub-menu
          // visibility visible
          max-height 500px
          transition-t('all', '0', '0.2', 'ease')
          redefine-container(
            false,
            0,
            0,
            10px,
            5px
          )

      .mobile
        display flex
        justify-content space-between
        align-items center

        .icon-item
          display none
          position relative
          cursor pointer
          font-size 18px
          margin-left 12px
          width 20px
          height 20px
          color var(--default-text-color)

          i
            color var(--default-text-color)

          &:first-child
            margin-left 0

          +redefine-tablet()
            display flex
            justify-content center
            align-items center

        .navbar-bar
          .navbar-bar-middle
            width 18px
            height $navbar-bar-line-height
            position relative
            background var(--default-text-color)

            .navbar-drawer-show &
              background transparent

            &::before, &::after
              content ''
              position absolute
              left 0
              width 100%
              height $navbar-bar-line-height
              background var(--default-text-color)
              transition-t('transform', '0', '0.38', 'ease')

            &::before
              top -6px

              .navbar-drawer-show &
                transform translateY(6px) rotate(45deg)

            &::after
              bottom -6px

              .navbar-drawer-show &
                transform translateY(-6px) rotate(-45deg)

  .navbar-drawer
    width 100%
    padding $navbar-height 0 20px 0
    position absolute
    top 0
    left 0
    transform scaleY(0)
    transform-origin top
    z-index $z-index-2
    background var(--background-color)
    transition-t('transform', '0', '0.38', 'ease')

    .navbar-drawer-show &
      transform scaleY(1)

    .drawer-navbar-list
      display flex
      flex-direction column
      justify-content flex-start
      align-items center

      .drawer-navbar-item
        font-size 1rem
        margin 6px 0
        height 32px

        a
          padding 6px 20px
          border-radius 20px
          color var(--default-text-color)

          &:hover
            color var(--second-text-color)
            border 1px solid var(--default-text-color)

          &.active
            border 1px solid var(--default-text-color)
            color var(--second-text-color)

        .has-dropdown

        a .fa-chevron-down
          transform rotate(0deg)
          transition transform 0.3s ease

        &:hover a .fa-chevron-down
          transform rotate(180deg)

        &:hover .has-dropdown
          &::after
            display none !important

      .dropdown-item
        font-size 1rem
        margin 6px 0
        height 16px

        a
          padding 6px 20px
          border-radius 20px
          color var(--default-text-color)

          &:hover
            color var(--second-text-color)
            border 1px solid var(--default-text-color)

          &.active
            border 1px solid var(--default-text-color)
            color var(--second-text-color)

      .sub-menu
        position relative
        margin-top 8px
        width 100%
        text-align center
        list-style none
        padding 0 10px
        border-radius $redefine-border-radius-large
        // float left

  .window-mask
    position absolute
    top 0
    width 100%
    height 100vh
    background rgba(0, 0, 0, 0.4)
    z-index $z-index-1
    visibility hidden
    opacity 0
    transition-t('transform, opacity', '0, 0', '0.38, 0.38', 'ease, ease')

    .navbar-drawer-show &
      visibility visible
      opacity 1

.navbar-drawer-show
  overflow hidden

        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">lustreä¸gpfså­¦ä¹ </h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/favicon.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Ethereal</span>
                            
                                <span class="author-label">Lv5</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-12-02 00:12:48</span>
        <span class="mobile">2024-12-02 00:12</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-12-08 21:03:57</span>
            <span class="mobile">2025-12-08 21:03</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h2 id="1-ç‰¹ç‚¹"><a href="#1-ç‰¹ç‚¹" class="headerlink" title="1. ç‰¹ç‚¹"></a>1. ç‰¹ç‚¹</h2><ol>
<li>lustreåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ”¯æŒldiskfså’Œzfsä¸¤ç§æ–‡ä»¶ç³»ç»Ÿï¼Œldiskfsæ˜¯åŸºäºext4æ–‡ä»¶ç³»ç»Ÿå®šåˆ¶ä¼˜åŒ–è€Œæ¥ï¼ˆéœ€è¦ä¿®æ”¹å†…æ ¸ï¼‰ï¼›zfsåˆ™æ˜¯é‡‡ç”¨openzfsçš„é¡¹ç›®ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_a84a3924-0bf6-11ed-8f79-fa163eb4f6be.png"
                      alt="modb_20220725_a84a3924-0bf6-11ed-8f79-fa163eb4f6be"
                ></li>
</ol>
<h2 id="2-lustreæ ¸å¿ƒç»„ä»¶"><a href="#2-lustreæ ¸å¿ƒç»„ä»¶" class="headerlink" title="2. lustreæ ¸å¿ƒç»„ä»¶"></a>2. lustreæ ¸å¿ƒç»„ä»¶</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_a876799e-0bf6-11ed-8f79-fa163eb4f6be.png"
                      alt="modb_20220725_a876799e-0bf6-11ed-8f79-fa163eb4f6be"
                ></p>
<ol>
<li><p>MGS(Management Server) :æä¾›æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ä¸å´©æºƒæ¢å¤</p>
</li>
<li><p>MGT(Management Target):MGTæ˜¯MGSç”¨äºå­˜å‚¨lustreæ–‡ä»¶ç³»ç»Ÿé…ç½®ä¿¡æ¯çš„å—è®¾å¤‡ï¼ŒMGTçš„å®¹é‡æœ€å¤§éœ€è¦100MBã€‚</p>
</li>
<li><p>MDS(Meta Server):MDSè´Ÿè´£ç®¡ç†æ–‡ä»¶ç³»ç»Ÿç»Ÿä¸€çš„å‘½åç©ºé—´ï¼ŒåŒæ—¶æä¾›æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®è®¿é—®æœåŠ¡</p>
</li>
<li><p>MDT(Metadata Target):MDSå­˜å‚¨å…ƒæ•°æ®ä¿¡æ¯çš„åç«¯å—è®¾å¤‡ã€‚</p>
</li>
<li><p>OSS(Object Storage Server)ï¼šOSSè´Ÿè´£ç®¡ç†æ–‡ä»¶å¯¹è±¡æ•°æ®ï¼Œå¯¹lustreå®¢æˆ·ç«¯æä¾›å®Œæ•´æ–‡ä»¶æ•°æ®çš„è®¿é—®ã€‚</p>
</li>
<li><p>OST(Object Storage Target):OSSä½¿ç”¨çš„å­˜å‚¨æ–‡ä»¶å¯¹è±¡æ•°æ®çš„å—è®¾å¤‡ã€‚</p>
</li>
<li><p>LMV(Logical Metadata Voliumeï¼‰ï¼šè®¿é—®<code>MDC(Metadata client)</code>çš„æŠ½è±¡å±‚</p>
</li>
<li><p><code>LOV(Logical Object Volume)</code>ï¼šé’ˆå¯¹<code>OSC(Object Storage Client)</code>çš„æŠ½è±¡å±‚</p>
</li>
<li><p>Lustre Clientï¼šè´Ÿè´£æŒ‚è½½lustreæ–‡ä»¶ç³»ç»Ÿ</p>
</li>
<li><p>Lustre Networkï¼šlustreçš„ç½‘ç»œåè®®ï¼Œæ”¯æŒRDMA</p>
</li>
<li><p>LIBCFSï¼šæä¾›åŸºç¡€çš„è¿›ç¨‹ç®¡ç†å’Œè°ƒè¯• APIã€‚libcfs è¢«å¤§é‡ä½¿ç”¨åœ¨ LNetã€Lustre çš„ç›¸å…³å·¥å…·ä¸Šã€‚</p>
</li>
</ol>
<h2 id="3-å¸ƒå±€"><a href="#3-å¸ƒå±€" class="headerlink" title="3. å¸ƒå±€"></a>3. å¸ƒå±€</h2><ol>
<li>æ­£å¸¸(normal)æ–‡ä»¶å¸ƒå±€</li>
</ol>
<p>æ–‡ä»¶çš„æ¯ä¸ªstripeæŒ‰ç…§round-robinæ–¹å¼è½®è¯¢å½“å‰é›†ç¾¤ä¸­æ¯ä¸ªostæ¥æ”¾ç½®æ•°æ®åˆ†ç‰‡å¯¹è±¡ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_aa646f72-0bf6-11ed-8f79-fa163eb4f6be.png"
                      alt="modb_20220725_aa646f72-0bf6-11ed-8f79-fa163eb4f6be"
                ></p>
<ol start="2">
<li>å¤åˆå¸ƒå±€</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_ad890140-0bf6-11ed-8f79-fa163eb4f6be.png"
                      alt="modb_20220725_ad890140-0bf6-11ed-8f79-fa163eb4f6be"
                ></p>
<ol>
<li>éœ€è¦æ³¨æ„åé¢çš„éƒ¨åˆ†ä¼šç©ºå‡ºå‰é¢é…ç½®çš„ç©ºé—´å¤§å°</li>
</ol>
<h2 id="4-è®¿é—®æµç¨‹"><a href="#4-è®¿é—®æµç¨‹" class="headerlink" title="4. è®¿é—®æµç¨‹"></a>4. è®¿é—®æµç¨‹</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20220725_b1b190a2-0bf6-11ed-8f79-fa163eb4f6be.png"
                      alt="modb_20220725_b1b190a2-0bf6-11ed-8f79-fa163eb4f6be"
                ></p>
<h2 id="4-ä»£ç åˆ†æ"><a href="#4-ä»£ç åˆ†æ" class="headerlink" title="4. ä»£ç åˆ†æ"></a>4. ä»£ç åˆ†æ</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://oss-emcsprod-public.modb.pro/wechatSpider/modb_20211222_05f4333e-6334-11ec-8889-fa163eb4f6be.png"
                      alt="modb_20211222_05f4333e-6334-11ec-8889-fa163eb4f6be"
                ></p>
<h3 id="4-1-æ‰§è¡Œæµ"><a href="#4-1-æ‰§è¡Œæµ" class="headerlink" title="4.1 æ‰§è¡Œæµ"></a>4.1 æ‰§è¡Œæµ</h3><ul>
<li>lustreå®¢æˆ·ç«¯stackä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å¤„ç†éœ€è¦<code>vvp_object</code>ã€<code>lov_object</code>ã€<code>lovsub_object</code>ã€<code>osc_object</code>ã€‚æ¯ä¸€å±‚çš„å¯¹è±¡éƒ½ä¼šåŒ…å«é€šç”¨çš„å¯¹è±¡å±‚<code>cl_object</code>.<code>vvp_object</code>æ˜¯vfs-vm-posixå±‚çš„å¯¹è±¡ï¼Œè¿™ä¸ªåŒ…å«äº†æ“ä½œæ–‡ä»¶çš„inodeå’Œ<code>cl_object</code>çš„å®¢æˆ·ç«¯é€šç”¨å¯¹è±¡;<code>lov_object</code>æ˜¯ä¸ºäº†å¤„ç†æ¥è‡ª<code>vvp_object</code>çš„å°è£…çš„æ•°æ®ï¼Œå…¶ä¸­ä¹ŸåŒ…å«äº†<code>cl_object</code>ï¼Œè¿™ä¸€å±‚æ˜¯é€»è¾‘å¯¹è±¡å±‚ï¼Œæ¯”å¦‚æ–‡ä»¶è¢«stripeåï¼Œåœ¨<code>lov_object</code>ä¼šåŒ…å«å¤šä¸ªsripeçš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å°è£…æˆå¯¹è±¡<code>lovsub_object</code>,æ¯ä¸€ä¸ª<code>lovsub_object</code>å¯¹åº”ä¸€ä¸ª<code>osc_object</code>å¯¹è±¡ã€‚æœ€å<code>osc_object</code>é€šè¿‡è‡ªå·±è¿™ä¸€å±‚çš„deviceçš„æ¥å£å±‚ï¼Œæ•°æ®åˆ°mdsæˆ–è€…oss.</li>
<li>cio_submitå’Œcio_commitçš„åŒºåˆ«åœ¨äºcio_submitç”¨äºç´§æ€¥è¯·æ±‚ã€‚</li>
<li>wakeup all cache waiters-&gt;spin_unlock(&amp;cli-&gt;cl_loi_list_lock);</li>
</ul>
<p>(flockæ˜¯æ–‡ä»¶é”)<a class="link"   target="_blank" rel="noopener" href="https://wiki.lustre.org/Mounting_a_Lustre_File_System_on_Client_Nodes" >Mounting a Lustre File System on Client Nodes - Lustre Wiki <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<ol>
<li>read: ll_file_operations_flock-&gt;ll_file_read-&gt;(init_sync_kiocb)ll_file_aio_read-&gt;ll_file_read_iter-&gt;(do_loop_readv_writev)do_file_read_iter-&gt;pcc_file_read_iter&#x2F;ll_do_fast_read&#x2F;ll_file_io_generic-&gt;(vvp_env_new_io&#x2F;cl_io_rw_init&#x2F;range_lock_init)cl_io_loop-&gt;(cl_io_lock)cl_io_start-&gt;vvp_io_ops&#x2F;lov_io_ops&#x2F;mdc_io_ops&#x2F;osc_io_ops(ç±»å‹åœ¨do_file_read_iterèµ‹å€¼ä¸ºCIT_READ&#x3D;1ï¼Œå…¨å±€ç”±cl_io_slice_addä¸lov_io_init_compositeèµ‹å€¼ä¸ºlov_io_ops)-&gt;lov_io_start-&gt;lov_io_call-&gt;cl_io_start(è°ƒç”¨å­è¯·æ±‚)â€”â€“&gt;osc_io_read_start</li>
<li>submit:lov_io_submit-&gt;cl_io_submit_rw-&gt;cio_submit-&gt;osc_io_submit-&gt;osc_page_submit&#x2F;osc_queue_sync_pages-&gt;(osc_extent_lookup&#x2F;osc_extent_alloc)list_add_tail&#x2F;osc_update_pending</li>
<li>commit: lov_io_commit_async-&gt;cl_io_commit_async-&gt;cio_commit_async-&gt;osc_io_commit_async-&gt;osc_page_cache_add-&gt;osc_queue_async_io-&gt;osc_enter_cache-&gt;cli_unlock_and_unplug-&gt;osc_io_unplug_async-&gt;osc_io_unplug0-&gt;osc_check_rpcs&#x2F;ptlrpcd_queue_workï¼ˆå¼‚æ­¥ï¼‰-&gt;(osc_send_write_rpc-&gt;osc_build_rpc-&gt;)ptlrpcd_add_req</li>
<li>seek: ll_file_seek-&gt;cl_sync_file_range-&gt;cl_io_loop</li>
</ol>
<h2 id="5-GPFS"><a href="#5-GPFS" class="headerlink" title="5. GPFS"></a>5. GPFS</h2><h3 id="5-1-GPFSå°æ–‡ä»¶å¹¶è¡Œ"><a href="#5-1-GPFSå°æ–‡ä»¶å¹¶è¡Œ" class="headerlink" title="5.1 GPFSå°æ–‡ä»¶å¹¶è¡Œ"></a>5.1 GPFSå°æ–‡ä»¶å¹¶è¡Œ</h3><p><strong>å¯¹äºå•ä¸ªå°æ–‡ä»¶çš„è¯»å†™ï¼ŒGPFSï¼ˆIBM Spectrum Scaleï¼‰æ²¡æœ‰æ•°æ®å±‚é¢çš„å¹¶è¡Œç­–ç•¥</strong>ï¼ˆå³ä¸ä¼šåƒå¤§æ–‡ä»¶é‚£æ ·å°†ä¸€ä¸ªæ–‡ä»¶åˆ‡åˆ†å¹¶é€šè¿‡å¤šä¸ªç£ç›˜å¹¶å‘è¯»å–ï¼‰ã€‚</p>
<p><strong>ä½†æ˜¯</strong>ï¼ŒGPFS é’ˆå¯¹å°æ–‡ä»¶æœ‰éå¸¸ç‹¬ç‰¹çš„<strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼Œå¹¶ä¸”åœ¨<strong>å¤„ç†æµ·é‡å°æ–‡ä»¶å¹¶å‘ï¼ˆWorkload Parallelismï¼‰</strong>æ—¶å…·æœ‰æå¼ºçš„å¹¶è¡Œèƒ½åŠ›ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åŒºåˆ†â€œå•ä¸ªå°æ–‡ä»¶çš„å¹¶è¡Œâ€å’Œâ€œæµ·é‡å°æ–‡ä»¶ååçš„å¹¶è¡Œâ€ï¼š</p>
<h4 id="1-å•ä¸ªå°æ–‡ä»¶ï¼šæ²¡æœ‰æ•°æ®æ¡å¸¦åŒ–å¹¶è¡Œ-No-Striping"><a href="#1-å•ä¸ªå°æ–‡ä»¶ï¼šæ²¡æœ‰æ•°æ®æ¡å¸¦åŒ–å¹¶è¡Œ-No-Striping" class="headerlink" title="1. å•ä¸ªå°æ–‡ä»¶ï¼šæ²¡æœ‰æ•°æ®æ¡å¸¦åŒ–å¹¶è¡Œ (No Striping)"></a>1. å•ä¸ªå°æ–‡ä»¶ï¼šæ²¡æœ‰æ•°æ®æ¡å¸¦åŒ–å¹¶è¡Œ (No Striping)</h4><p>åœ¨ GPFS ä¸­ï¼Œæ•°æ®æ˜¯ä»¥ <strong>Blockï¼ˆå—ï¼‰</strong> ä¸ºå•ä½è¿›è¡Œè·¨ç£ç›˜æ¡å¸¦åŒ–ï¼ˆStripingï¼‰çš„ã€‚é»˜è®¤ Block Size é€šå¸¸å¾ˆå¤§ï¼ˆå¦‚ 4MBã€8MB ç”šè‡³ 16MBï¼‰ã€‚</p>
<ul>
<li><p>å¦‚æœæ–‡ä»¶ &lt; Block Sizeï¼ˆä¾‹å¦‚ 100KBï¼‰ï¼š<br>GPFS ä¸ä¼šå°†è¿™ 100KB æ‹†åˆ†å­˜æ”¾åˆ°å¤šä¸ªç£ç›˜ä¸Šã€‚å®ƒä¼šå­˜å‚¨åœ¨å•ä¸ªç£ç›˜çš„å•ä¸ª Block çš„éƒ¨åˆ† Sub-blocksï¼ˆå­å—ï¼‰ ä¸­ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> è¯»å†™è¿™ä¸ªæ–‡ä»¶æ—¶ï¼ŒIO åªä¼šè½åœ¨ä¸€ä¸ª NSDï¼ˆå­˜å‚¨èŠ‚ç‚¹ï¼‰çš„ä¸€å—ç‰©ç†ç£ç›˜ä¸Šï¼Œæ— æ³•åˆ©ç”¨å¤šç£ç›˜å¹¶è¡ŒåŠ é€Ÿã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-GPFS-é’ˆå¯¹å°æ–‡ä»¶çš„ç‰¹æ®Šä¼˜åŒ–ç­–ç•¥"><a href="#2-GPFS-é’ˆå¯¹å°æ–‡ä»¶çš„ç‰¹æ®Šä¼˜åŒ–ç­–ç•¥" class="headerlink" title="2. GPFS é’ˆå¯¹å°æ–‡ä»¶çš„ç‰¹æ®Šä¼˜åŒ–ç­–ç•¥"></a>2. GPFS é’ˆå¯¹å°æ–‡ä»¶çš„ç‰¹æ®Šä¼˜åŒ–ç­–ç•¥</h4><p>è™½ç„¶æ²¡æœ‰å¹¶è¡Œï¼Œä½† GPFS æœ‰ä¸¤é¡¹æ ¸å¿ƒæŠ€æœ¯æ¥æè‡´ä¼˜åŒ–å°æ–‡ä»¶æ€§èƒ½ï¼Œç›®çš„æ˜¯<strong>å‡å°‘ IO æ¬¡æ•°</strong>å’Œ<strong>èŠ‚çœç©ºé—´</strong>ï¼š</p>
<h5 id="A-Data-in-Inode-æ•°æ®å†…åµŒ-Inode"><a href="#A-Data-in-Inode-æ•°æ®å†…åµŒ-Inode" class="headerlink" title="A. Data-in-Inode (æ•°æ®å†…åµŒ Inode)"></a>A. Data-in-Inode (æ•°æ®å†…åµŒ Inode)</h5><p>è¿™æ˜¯é’ˆå¯¹<strong>æå°æ–‡ä»¶</strong>ï¼ˆé€šå¸¸ &lt; 3.5KBï¼‰çš„æœ€å¼ºä¼˜åŒ–ã€‚</p>
<ul>
<li><p><strong>åŸç†ï¼š</strong> GPFS çš„ Inodeï¼ˆæ–‡ä»¶å…ƒæ•°æ®ç´¢å¼•èŠ‚ç‚¹ï¼‰å¤§å°é€šå¸¸é»˜è®¤ä¸º 4KBã€‚å¦‚æœä½ çš„æ–‡ä»¶éå¸¸å°ï¼ˆä¾‹å¦‚ 1KB çš„é…ç½®æ–‡ä»¶æˆ–è„šæœ¬ï¼‰ï¼ŒGPFS ä¼šç›´æ¥å°†<strong>æ–‡ä»¶å†…å®¹å­˜æ”¾åœ¨ Inode ç»“æ„ä½“å†…</strong>ã€‚</p>
</li>
<li><p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><p><strong>é›¶æ•°æ® IOï¼š</strong> è¯»å–æ–‡ä»¶å±æ€§ï¼ˆls -lï¼‰æ—¶ï¼Œæ–‡ä»¶å†…å®¹å°±å·²ç»è¢«è¯»è¿›å†…å­˜äº†ã€‚è¯»å–æ–‡ä»¶å†…å®¹ä¸éœ€è¦é¢å¤–çš„ç£ç›˜ IOï¼ˆSeekï¼‰ã€‚</p>
</li>
<li><p><strong>æå¤§æå‡æ€§èƒ½ï¼š</strong> ç›¸å½“äºæŠŠå…ƒæ•°æ®å’Œæ•°æ®åˆäºŒä¸ºä¸€ï¼Œå‡å°‘äº†ä¸€åŠçš„ç‰©ç† IO æ“ä½œã€‚</p>
</li>
</ul>
</li>
</ul>
<h5 id="B-Sub-block-å­å—åˆ†é…"><a href="#B-Sub-block-å­å—åˆ†é…" class="headerlink" title="B. Sub-block (å­å—åˆ†é…)"></a>B. Sub-block (å­å—åˆ†é…)</h5><p>è¿™æ˜¯é’ˆå¯¹<strong>ä¸­ç­‰å°æ–‡ä»¶</strong>ï¼ˆå¤§äº 4KB ä½†è¿œå°äº Block Sizeï¼Œå¦‚ 100KBï¼‰çš„ä¼˜åŒ–ã€‚</p>
<ul>
<li><p><strong>åŸç†ï¼š</strong> GPFS å°†ä¸€ä¸ªå¤§ Blockï¼ˆå¦‚ 4MBï¼‰é€»è¾‘ä¸Šåˆ’åˆ†ä¸º 32 ä¸ª Sub-blocksï¼ˆå­å—ï¼‰ã€‚</p>
</li>
<li><p><strong>ç­–ç•¥ï¼š</strong> å½“æ–‡ä»¶å†™ä¸æ»¡ä¸€ä¸ªå¤§ Block æ—¶ï¼ŒGPFS åªåˆ†é…å¿…è¦çš„ Sub-blocksã€‚</p>
</li>
<li><p><strong>ä¼˜åŠ¿ï¼š</strong> ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœç©ºé—´ï¼ˆé¿å… 1KB æ–‡ä»¶å ç”¨ 4MB ç£ç›˜ï¼‰ï¼ŒåŒæ—¶é€šè¿‡èšåˆå¤šä¸ªå°æ–‡ä»¶çš„ Sub-blocks åˆ°åŒä¸€ä¸ªç‰©ç† Block ä¸­ï¼Œå¯ä»¥åœ¨åç»­é¡ºåºè¯»å–æ—¶åˆ©ç”¨é¢„è¯»ç¼“å­˜ã€‚</p>
</li>
</ul>
<h4 id="3-æµ·é‡å°æ–‡ä»¶ï¼šå…ƒæ•°æ®å¹¶è¡Œ-Metadata-Parallelism"><a href="#3-æµ·é‡å°æ–‡ä»¶ï¼šå…ƒæ•°æ®å¹¶è¡Œ-Metadata-Parallelism" class="headerlink" title="3. æµ·é‡å°æ–‡ä»¶ï¼šå…ƒæ•°æ®å¹¶è¡Œ (Metadata Parallelism)"></a>3. æµ·é‡å°æ–‡ä»¶ï¼šå…ƒæ•°æ®å¹¶è¡Œ (Metadata Parallelism)</h4><p>â€œå¹¶è¡Œç­–ç•¥â€è™½ç„¶åœ¨å•ä¸ªæ–‡ä»¶ä¸Šä¸é€‚ç”¨ï¼Œä½†åœ¨<strong>å¹¶å‘è¯»å†™æˆåƒä¸Šä¸‡ä¸ªå°æ–‡ä»¶</strong>æ—¶ï¼ŒGPFS çš„å¹¶è¡Œå¨åŠ›å°±ä½“ç°å‡ºæ¥äº†ã€‚è¿™ä¸»è¦å½’åŠŸäºå®ƒçš„<strong>åˆ†å¸ƒå¼å…ƒæ•°æ®æ¶æ„</strong>ï¼š</p>
<ol>
<li><p>åŠ¨æ€å…ƒæ•°æ®èŠ‚ç‚¹ (Dynamic Metadata Management):<br>GPFS æ²¡æœ‰åƒ HDFS é‚£æ ·å•ä¸€çš„ NameNode ç“¶é¢ˆã€‚ç›®å½•å’Œæ–‡ä»¶çš„å…ƒæ•°æ®ç®¡ç†æƒæ˜¯åŠ¨æ€åˆ†å¸ƒåœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„ã€‚èŠ‚ç‚¹ A åˆ›å»ºæ–‡ä»¶ 1ï¼ŒèŠ‚ç‚¹ B åˆ›å»ºæ–‡ä»¶ 2ï¼Œå®ƒä»¬å¯ä»¥äº’ä¸å¹²æ‰°åœ°å¹¶è¡Œå†™å…¥å…ƒæ•°æ®ã€‚</p>
</li>
<li><p>ç›®å½•å“ˆå¸Œ (Directory Hash):<br>å¯¹äºåŒä¸€ä¸ªå¤§ç›®å½•ä¸‹çš„æµ·é‡å°æ–‡ä»¶ï¼ŒGPFS ä¼šå¯¹æ–‡ä»¶åè¿›è¡Œ Hashï¼Œå°†å®ƒä»¬åˆ†æ•£å­˜å‚¨åœ¨ä¸åŒçš„å…ƒæ•°æ® Block ä¸­ã€‚è¿™æ„å‘³ç€å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶åœ¨ä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ï¼Œè€Œä¸ä¼šå› ä¸ºé”ç«äº‰ï¼ˆLock Contentionï¼‰å¡æ­»ã€‚</p>
</li>
</ol>
<h4 id="å…³é”®ç»“è®º"><a href="#å…³é”®ç»“è®º" class="headerlink" title="å…³é”®ç»“è®º"></a>å…³é”®ç»“è®º</h4><p>å¦‚æœæ­£åœ¨é’ˆå¯¹ GPFS ä¼˜åŒ–å°æ–‡ä»¶åº”ç”¨ï¼š</p>
<ul>
<li><p><strong>ä¸è¦æŒ‡æœ›å•æ–‡ä»¶ååï¼š</strong> å•ä¸ª 1MB æ–‡ä»¶çš„è¯»å†™é€Ÿåº¦å–å†³äºå•å—ç£ç›˜çš„ç‰©ç†æ€§èƒ½å’Œç½‘ç»œå»¶è¿Ÿã€‚</p>
</li>
<li><p><strong>åˆ©ç”¨å¹¶å‘ï¼š</strong> åªæœ‰åŒæ—¶å‘èµ·å¤šä¸ªçº¿ç¨‹è¯»å†™å¤šä¸ªå°æ–‡ä»¶ï¼Œæ‰èƒ½è·‘æ»¡ GPFS çš„å¸¦å®½ã€‚</p>
</li>
<li><p><strong>è°ƒæ•´ Inode å¤§å°ï¼š</strong> å¦‚æœä½ çš„ä¸šåŠ¡å…¨æ˜¯ 1KB-3KB çš„æ–‡ä»¶ï¼Œç¡®ä¿å­˜å‚¨æ± çš„ Inode Size é…ç½®ä¸º 4KBï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œä»¥å¯ç”¨ Data-in-Inode åŠŸèƒ½ã€‚</p>
</li>
</ul>
<h3 id="5-2-GPFSè°ƒä¼˜"><a href="#5-2-GPFSè°ƒä¼˜" class="headerlink" title="5.2 GPFSè°ƒä¼˜"></a>5.2 GPFSè°ƒä¼˜</h3><p>GPFS (IBM Spectrum Scale) çš„ä¼˜åŒ–æ˜¯ä¸€ä¸ªç³»ç»Ÿå·¥ç¨‹ï¼Œæ ¸å¿ƒç†å¿µæ˜¯<strong>â€œç”¨å†…å­˜æ¢ IOâ€</strong>å’Œ<strong>â€œåŒ¹é…ä¸šåŠ¡æ¨¡å‹â€</strong>ã€‚ä¼˜åŒ–æ–¹æ¡ˆé€šå¸¸æ ¹æ®ä¸šåŠ¡æ˜¯<strong>â€œæµ·é‡å°æ–‡ä»¶ï¼ˆå…ƒæ•°æ®å¯†é›†å‹ï¼‰â€</strong>è¿˜æ˜¯<strong>â€œå¤§æ–‡ä»¶ååï¼ˆå¸¦å®½å¯†é›†å‹ï¼‰â€</strong>è€Œæˆªç„¶ä¸åŒã€‚</p>
<p>ä»¥ä¸‹æ˜¯é’ˆå¯¹ä¸åŒåœºæ™¯çš„ GPFS ä¼˜åŒ–ç­–ç•¥æŒ‡å—ï¼š</p>
<h4 id="1-æ ¸å¿ƒå‚æ•°è°ƒä¼˜-é€šè¿‡-mmchconfig-ä¿®æ”¹"><a href="#1-æ ¸å¿ƒå‚æ•°è°ƒä¼˜-é€šè¿‡-mmchconfig-ä¿®æ”¹" class="headerlink" title="1. æ ¸å¿ƒå‚æ•°è°ƒä¼˜ (é€šè¿‡ mmchconfig ä¿®æ”¹)"></a>1. æ ¸å¿ƒå‚æ•°è°ƒä¼˜ (é€šè¿‡ <code>mmchconfig</code> ä¿®æ”¹)</h4><p>è¿™äº›å‚æ•°å¯ä»¥åœ¨é›†ç¾¤è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´ï¼ˆéƒ¨åˆ†éœ€è¦é‡å¯ GPFS æœåŠ¡ï¼‰ï¼Œæ˜¯è°ƒä¼˜çš„ç¬¬ä¸€æˆ˜åœºã€‚</p>
<table>
<thead>
<tr>
<th><strong>å‚æ•°å</strong></th>
<th><strong>æ¨èå€¼&#x2F;è°ƒæ•´æ–¹å‘</strong></th>
<th><strong>é€‚ç”¨åœºæ™¯</strong></th>
<th><strong>ä½œç”¨è§£é‡Š</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong><code>pagepool</code></strong></td>
<td><strong>ç‰©ç†å†…å­˜çš„ 20%-50%</strong></td>
<td><strong>å¤§æ–‡ä»¶&#x2F;é€šç”¨</strong></td>
<td>GPFS çš„æ•°æ®ç¼“å­˜ã€‚å€¼è¶Šå¤§ï¼Œèƒ½ç¼“å­˜çš„æ•°æ®è¶Šå¤šï¼Œè¯»å†™æ€§èƒ½è¶Šå¥½ã€‚è¿™æ˜¯<strong>æœ€é‡è¦</strong>çš„æ€§èƒ½å‚æ•°ã€‚</td>
</tr>
<tr>
<td><strong><code>maxMBpS</code></strong></td>
<td><strong>2 * (ç½‘å¡å¸¦å®½ + ç£ç›˜å¸¦å®½)</strong></td>
<td><strong>å¤§æ–‡ä»¶åå</strong></td>
<td>è¿™<strong>ä¸æ˜¯é™åˆ¶é€Ÿåº¦</strong>ï¼Œè€Œæ˜¯å‘Šè¯‰ GPFS ä½ æœŸæœ›çš„ååé‡ï¼ŒGPFS ä¼šæ®æ­¤è®¡ç®—é¢„è¯»ï¼ˆPrefetchï¼‰å’Œåå°å†™ï¼ˆWrite-behindï¼‰æ‰€éœ€çš„ç¼“å†²åŒºå¤§å°ã€‚è®¾å¾—å¤ªå°ä¼šé™åˆ¶ååã€‚</td>
</tr>
<tr>
<td><strong><code>maxFilesToCache</code></strong></td>
<td><strong>10,000 ~ 100,000+</strong></td>
<td><strong>æµ·é‡å°æ–‡ä»¶</strong></td>
<td>ç¼“å­˜åœ¨å†…å­˜ä¸­çš„<strong>æ–‡ä»¶ inode æ•°é‡</strong>ã€‚å°æ–‡ä»¶ä¸šåŠ¡ï¼ˆå¦‚ AI è®­ç»ƒã€ä»£ç ç¼–è¯‘ï¼‰å¿…é¡»è°ƒå¤§æ­¤å€¼ï¼Œé¿å…åå¤è¯»å–ç£ç›˜å…ƒæ•°æ®ã€‚</td>
</tr>
<tr>
<td><strong><code>maxStatCache</code></strong></td>
<td><strong>4 * maxFilesToCache</strong></td>
<td><strong>æµ·é‡å°æ–‡ä»¶</strong></td>
<td>ç¼“å­˜ <code>stat()</code> ç»“æœï¼ˆå¦‚ <code>ls -l</code>ï¼‰ã€‚å¦‚æœç”¨æˆ·é¢‘ç¹åˆ—å‡ºç›®å½•å±æ€§ï¼Œè°ƒå¤§æ­¤å€¼å¯å¤§å¹…é™ä½å»¶è¿Ÿã€‚</td>
</tr>
<tr>
<td><strong><code>worker1Threads</code></strong></td>
<td><strong>é»˜è®¤å€¼æˆ–é€‚å½“å¢åŠ </strong></td>
<td><strong>å¹¶å‘å¤„ç†</strong></td>
<td>å¤„ç†å¸¸è§„æ–‡ä»¶æ“ä½œçš„çº¿ç¨‹æ•°ã€‚å¦‚æœ <code>mmdiag --threads</code> æ˜¾ç¤ºå¤§é‡ç­‰å¾…ï¼Œå¯å°è¯•å¢åŠ ã€‚</td>
</tr>
<tr>
<td><strong><code>prefetchThreads</code></strong></td>
<td><strong>é€‚å½“å¢åŠ  (å¦‚ 72-100)</strong></td>
<td><strong>é¡ºåºè¯»</strong></td>
<td>ä¸“é—¨ç”¨äºæ•°æ®é¢„è¯»çš„çº¿ç¨‹æ•°ã€‚å¢åŠ æ­¤å€¼å¯æå‡å¤§æ–‡ä»¶é¡ºåºè¯»æ€§èƒ½ã€‚</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ æ“ä½œæç¤ºï¼š</p>
<p>ä¿®æ”¹å‚æ•°å‘½ä»¤ï¼šmmchconfig pagepool&#x3D;16G -i (-i è¡¨ç¤ºç«‹å³ç”Ÿæ•ˆä¸”æ°¸ä¹…ä¿å­˜)ã€‚</p>
</blockquote>
<hr>
<h4 id="2-é’ˆå¯¹â€œæµ·é‡å°æ–‡ä»¶â€çš„ä¼˜åŒ–-AIã€Webã€ç¼–è¯‘"><a href="#2-é’ˆå¯¹â€œæµ·é‡å°æ–‡ä»¶â€çš„ä¼˜åŒ–-AIã€Webã€ç¼–è¯‘" class="headerlink" title="2. é’ˆå¯¹â€œæµ·é‡å°æ–‡ä»¶â€çš„ä¼˜åŒ– (AIã€Webã€ç¼–è¯‘)"></a>2. é’ˆå¯¹â€œæµ·é‡å°æ–‡ä»¶â€çš„ä¼˜åŒ– (AIã€Webã€ç¼–è¯‘)</h4><p>å°æ–‡ä»¶æ€§èƒ½ç“¶é¢ˆåœ¨äºå…ƒæ•°æ®ï¼ˆMetadataï¼‰å¤„ç†ï¼Œè€Œéå¸¦å®½ã€‚</p>
<ul>
<li><p><strong>å¼€å¯ <code>Data-in-Inode</code> (å…³é”®):</strong></p>
<ul>
<li>å¦‚æœåœ¨ <code>mmcrfs</code> åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿæ—¶æŒ‡å®š <code>-I</code> (Inode Size) ä¸º 4KBï¼ˆæ¨èå€¼ï¼‰ï¼Œé‚£ä¹ˆå°äº ~3.5KB çš„æ–‡ä»¶ä¼šç›´æ¥å­˜æ”¾åœ¨ Inode ä¸­ï¼Œæ— éœ€åˆ†é…é¢å¤–çš„ Data Blockï¼Œ<strong>èŠ‚çœä¸€æ¬¡ IO</strong>ã€‚</li>
</ul>
</li>
<li><p><strong>å…ƒæ•°æ®ä¸æ•°æ®åˆ†ç¦»:</strong></p>
<ul>
<li>ä½¿ç”¨é«˜æ€§èƒ½ SSD&#x2F;NVMe å•ç‹¬æ„å»º <strong>System Pool</strong> (å­˜æ”¾ Metadata)ï¼Œè€Œç”¨ HDD å­˜æ”¾ <strong>Data Pool</strong>ã€‚è¿™èƒ½è®© <code>ls</code>ã€<code>find</code>ã€<code>stat</code> æ“ä½œé£å¿«ã€‚</li>
</ul>
</li>
<li><p><strong>è°ƒæ•´ Block Size:</strong></p>
<ul>
<li>è™½ç„¶é»˜è®¤ 4MB&#x2F;8MB å¯¹å¤§æ–‡ä»¶å¥½ï¼Œä½†å¦‚æœå…¨æ˜¯å°æ–‡ä»¶ï¼Œè¿‡å¤§çš„ Block ä¼šå¯¼è‡´é”ç«äº‰å’Œç©ºé—´æµªè´¹ï¼ˆè™½ç„¶æœ‰ Sub-block æœºåˆ¶ï¼‰ã€‚ä½†é€šå¸¸<strong>ä¸è¦</strong>ä¸ºäº†å°æ–‡ä»¶ç›²ç›®è°ƒå° Block Sizeï¼Œæ›´åº”ä¾èµ– SSD å…ƒæ•°æ®ç›˜ã€‚</li>
</ul>
</li>
</ul>
<h4 id="3-é’ˆå¯¹â€œå¤§æ–‡ä»¶é«˜ååâ€çš„ä¼˜åŒ–-è§†é¢‘ç¼–è¾‘ã€HPCã€å¤‡ä»½"><a href="#3-é’ˆå¯¹â€œå¤§æ–‡ä»¶é«˜ååâ€çš„ä¼˜åŒ–-è§†é¢‘ç¼–è¾‘ã€HPCã€å¤‡ä»½" class="headerlink" title="3. é’ˆå¯¹â€œå¤§æ–‡ä»¶é«˜ååâ€çš„ä¼˜åŒ– (è§†é¢‘ç¼–è¾‘ã€HPCã€å¤‡ä»½)"></a>3. é’ˆå¯¹â€œå¤§æ–‡ä»¶é«˜ååâ€çš„ä¼˜åŒ– (è§†é¢‘ç¼–è¾‘ã€HPCã€å¤‡ä»½)</h4><p>å¤§æ–‡ä»¶æ€§èƒ½ç“¶é¢ˆåœ¨äºç½‘ç»œå¸¦å®½å’Œç£ç›˜ååã€‚</p>
<ul>
<li><p><strong>Block Size å¯¹é½ (å¿…é¡»):</strong></p>
<ul>
<li><p>GPFS çš„ Block Size æœ€å¥½ä¸åº•å±‚ RAID æ¡å¸¦å¤§å°ï¼ˆRAID Stripe Sizeï¼‰å¯¹é½ã€‚</p>
</li>
<li><p>ä¾‹å¦‚ï¼šRAID 6 (8+2)ï¼Œæ¡å¸¦æ·±åº¦ 256KBï¼Œåˆ™å…¨æ¡å¸¦å†™å¤§å°ä¸º 8 * 256KB &#x3D; 2MBã€‚GPFS Block Size åº”è®¾ä¸º 2MBã€4MB æˆ– 8MBã€‚</p>
</li>
</ul>
</li>
<li><p><strong>ç½‘ç»œå·¨å‹å¸§ (Jumbo Frames):</strong></p>
<ul>
<li>ç¡®ä¿äº¤æ¢æœºå’ŒæœåŠ¡å™¨ç½‘å¡å‡å¼€å¯ <strong>MTU 9000</strong>ã€‚è¿™å¯¹æå‡ååé‡è‡³å…³é‡è¦ã€‚</li>
</ul>
</li>
<li><p><strong>RDMA (RoCE&#x2F;InfiniBand):</strong></p>
<ul>
<li>å¦‚æœç¡¬ä»¶æ”¯æŒï¼ŒåŠ¡å¿…å¼€å¯ GPFS çš„ RDMA åŠŸèƒ½ã€‚å®ƒèƒ½ç»•è¿‡ CPU ç›´æ¥ä¼ è¾“æ•°æ®ï¼Œå¤§å¹…é™ä½å»¶è¿Ÿå¹¶æå‡å¸¦å®½ã€‚</li>
</ul>
</li>
</ul>
<h4 id="4-å®¢æˆ·ç«¯-Client-vs-æœåŠ¡ç«¯-NSD-Server-å·®å¼‚"><a href="#4-å®¢æˆ·ç«¯-Client-vs-æœåŠ¡ç«¯-NSD-Server-å·®å¼‚" class="headerlink" title="4. å®¢æˆ·ç«¯(Client) vs æœåŠ¡ç«¯(NSD Server) å·®å¼‚"></a>4. å®¢æˆ·ç«¯(Client) vs æœåŠ¡ç«¯(NSD Server) å·®å¼‚</h4><p>ä¸è¦åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šåº”ç”¨ç›¸åŒçš„é…ç½®ã€‚</p>
<ul>
<li><p><strong>NSD Server (å­˜å‚¨èŠ‚ç‚¹):</strong></p>
<ul>
<li><p><strong>é‡ç‚¹:</strong> ç”šè‡³å¯ä»¥ç‰ºç‰² <code>pagepool</code> (å¦‚æœå†…å­˜ç´§ç¼º) æ¥ä¿è¯åº•å±‚ IO è°ƒåº¦çš„å†…å­˜ã€‚</p>
</li>
<li><p><strong>å‚æ•°:</strong> å…³æ³¨ <code>nsdMaxWorkerThreads</code>ï¼Œç¡®ä¿èƒ½å¤„ç†æ¥è‡ªæˆç™¾ä¸Šåƒä¸ª Client çš„è¯·æ±‚ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>Client (è®¡ç®—èŠ‚ç‚¹):</strong></p>
<ul>
<li><strong>é‡ç‚¹:</strong> å°½å¯èƒ½å¤§çš„ <code>pagepool</code> å’Œ <code>maxFilesToCache</code>ã€‚å› ä¸ºæ•°æ®æ˜¯åœ¨ Client ç«¯ç¼“å­˜çš„ï¼ŒClient å†…å­˜è¶Šå¤§ï¼Œåº”ç”¨æ„Ÿè§‰è¶Šå¿«ã€‚</li>
</ul>
</li>
</ul>
<h4 id="5-è¯Šæ–­ä¸æ’æŸ¥å·¥å…·"><a href="#5-è¯Šæ–­ä¸æ’æŸ¥å·¥å…·" class="headerlink" title="5. è¯Šæ–­ä¸æ’æŸ¥å·¥å…·"></a>5. è¯Šæ–­ä¸æ’æŸ¥å·¥å…·</h4><p>ä¼˜åŒ–ä¸æ˜¯ç›²ç›®çš„ï¼Œå…ˆç”¨å·¥å…·çœ‹ç“¶é¢ˆåœ¨å“ªé‡Œã€‚</p>
<ul>
<li><p><strong>æŸ¥çœ‹å½“å‰æ€§èƒ½:</strong> <code>mmpmon</code><br>Bash</p>
<pre><code># è¿›å…¥äº¤äº’æ¨¡å¼æŸ¥çœ‹ IOPS å’Œåå
mmpmon -i
&gt; io_s
</code></pre>
</li>
<li><p><strong>æŸ¥çœ‹ç­‰å¾…åŸå› :</strong> <code>mmdiag --waiters</code></p>
<ul>
<li>è¿™æ˜¯æ’æŸ¥ GPFS å¡é¡¿çš„ç¥å™¨ã€‚å¦‚æœçœ‹åˆ°å¤§é‡ <code>Network</code> ç­‰å¾…ï¼ŒæŸ¥ç½‘ç»œï¼›å¦‚æœçœ‹åˆ° <code>Disk</code> ç­‰å¾…ï¼ŒæŸ¥åº•å±‚å­˜å‚¨ã€‚</li>
</ul>
</li>
</ul>
<h4 id="æ€»ç»“ä¼˜åŒ–æ¸…å•"><a href="#æ€»ç»“ä¼˜åŒ–æ¸…å•" class="headerlink" title="æ€»ç»“ä¼˜åŒ–æ¸…å•"></a>æ€»ç»“ä¼˜åŒ–æ¸…å•</h4><table>
<thead>
<tr>
<th><strong>ä¼˜åŒ–åŠ¨ä½œ</strong></th>
<th><strong>ä¼˜å…ˆçº§</strong></th>
<th><strong>æ”¶ç›Š</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>è°ƒå¤§ <code>pagepool</code></strong></td>
<td>â­â­â­â­â­</td>
<td>é€šç”¨æ€§èƒ½æå‡æœ€å¤§</td>
</tr>
<tr>
<td><strong>SSD å­˜æ”¾ Metadata</strong></td>
<td>â­â­â­â­â­</td>
<td>å°æ–‡ä»¶æ€§èƒ½è´¨å˜</td>
</tr>
<tr>
<td><strong>å¼€å¯ RDMA &#x2F; Jumbo Frames</strong></td>
<td>â­â­â­â­</td>
<td>å¤§å¸¦å®½åœºæ™¯å¿…å¤‡</td>
</tr>
<tr>
<td><strong>è°ƒå¤§ <code>maxFilesToCache</code></strong></td>
<td>â­â­â­â­</td>
<td>è§£å†³å°æ–‡ä»¶â€œå¡é¡¿â€æ„Ÿ</td>
</tr>
<tr>
<td><strong>Block Size å¯¹é½ RAID</strong></td>
<td>â­â­â­</td>
<td>å†™å…¥æ€§èƒ½ç¨³å®šæ€§æå‡</td>
</tr>
</tbody></table>
<h3 id="5-3-å°æ–‡ä»¶ä¼˜åŒ–æ–¹å‘"><a href="#5-3-å°æ–‡ä»¶ä¼˜åŒ–æ–¹å‘" class="headerlink" title="5.3 å°æ–‡ä»¶ä¼˜åŒ–æ–¹å‘"></a>5.3 å°æ–‡ä»¶ä¼˜åŒ–æ–¹å‘</h3><p>å¦‚æœå¯¹ GPFS çš„<strong>å°æ–‡ä»¶å¹¶è¡Œ</strong>åšäº†â€œç‰¹æ®Šä¼˜åŒ–â€ï¼Œé€šå¸¸å¹¶æ²¡æœ‰ä¿®æ”¹ GPFS çš„å†…æ ¸æºç ï¼ˆå› ä¸ºé‚£æ˜¯ IBM çš„é—­æºæ ¸å¿ƒï¼‰ã€‚</p>
<p>ä»–ä»¬æ‰€è°“çš„â€œä¼˜åŒ–â€ï¼Œé€šå¸¸æ˜¯åœ¨<strong>æ¶æ„è®¾è®¡</strong>ã€<strong>ä¸­é—´ä»¶å±‚</strong>æˆ–<strong>é…ç½®ç­–ç•¥</strong>ä¸Šåšäº†æ‰‹è„šã€‚ä»¥ä¸‹æ˜¯æœ€å¯èƒ½é‡‡ç”¨çš„å‡ ç§æŠ€æœ¯æ‰‹æ®µï¼Œç”±æµ…å…¥æ·±è§£æï¼š</p>
<h4 id="1-ä¸­é—´ä»¶å±‚ï¼šIO-èšåˆï¼ˆæœ€æœ‰æ•ˆçš„â€œå‡â€å¹¶è¡Œï¼‰"><a href="#1-ä¸­é—´ä»¶å±‚ï¼šIO-èšåˆï¼ˆæœ€æœ‰æ•ˆçš„â€œå‡â€å¹¶è¡Œï¼‰" class="headerlink" title="1. ä¸­é—´ä»¶å±‚ï¼šIO èšåˆï¼ˆæœ€æœ‰æ•ˆçš„â€œå‡â€å¹¶è¡Œï¼‰"></a>1. ä¸­é—´ä»¶å±‚ï¼šIO èšåˆï¼ˆæœ€æœ‰æ•ˆçš„â€œå‡â€å¹¶è¡Œï¼‰</h4><p>è¿™æ˜¯è§£å†³å°æ–‡ä»¶é—®é¢˜çš„ç»ˆææ–¹æ¡ˆã€‚æ—¢ç„¶ GPFS ä¸å–œæ¬¢å°æ–‡ä»¶ï¼Œé‚£å°±ä¸è¦ç»™å®ƒå°æ–‡ä»¶ã€‚</p>
<ul>
<li><p><strong>åŸç†ï¼š</strong> å¼€å‘ä¸€ä¸ªä¸­é—´ä»¶åº“ï¼ˆLibraryï¼‰æˆ–ä½¿ç”¨ç‰¹å®šæ ¼å¼ï¼ˆå¦‚ HDF5, ADIOSï¼‰ï¼Œåœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­æ‹¦æˆªå°æ–‡ä»¶çš„å†™å…¥è¯·æ±‚ã€‚</p>
</li>
<li><p><strong>åšæ³•ï¼š</strong></p>
<ol>
<li><p><strong>Buffer:</strong> å°†æˆç™¾ä¸Šåƒä¸ª 1KB çš„å°æ–‡ä»¶åœ¨å†…å­˜ä¸­ç¼“å­˜èµ·æ¥ã€‚</p>
</li>
<li><p><strong>Aggregation:</strong> æ‹¼å‡‘æˆä¸€ä¸ª 4MB æˆ–æ›´å¤§çš„â€œå¤§å—æ•°æ®â€ã€‚</p>
</li>
<li><p><strong>Flush:</strong> ä¸€æ¬¡æ€§é€šè¿‡å¹¶è¡Œ IO å†™å…¥ GPFSã€‚</p>
</li>
</ol>
</li>
<li><p><strong>å®£ç§°å£å¾„ï¼š</strong> â€œæˆ‘ä»¬å®ç°äº†å°æ–‡ä»¶çš„é«˜é€Ÿå¹¶è¡Œå†™å…¥ã€‚â€ï¼ˆå®é™…ä¸Šæ˜¯æŠŠå°æ–‡ä»¶å˜æˆäº†å¤§æ–‡ä»¶å†™ï¼‰ã€‚</p>
</li>
</ul>
<h4 id="2-ç¼“å­˜å±‚ï¼šå¼•å…¥-Burst-Buffer-æˆ–-NVMe-Tier"><a href="#2-ç¼“å­˜å±‚ï¼šå¼•å…¥-Burst-Buffer-æˆ–-NVMe-Tier" class="headerlink" title="2. ç¼“å­˜å±‚ï¼šå¼•å…¥ Burst Buffer æˆ– NVMe Tier"></a>2. ç¼“å­˜å±‚ï¼šå¼•å…¥ Burst Buffer æˆ– NVMe Tier</h4><p>åˆ©ç”¨é€Ÿåº¦æå¿«çš„ä»‹è´¨ä½œä¸ºâ€œç¼“å†²åŒºâ€ï¼Œæ©ç›–åº•å±‚æœºæ¢°ç¡¬ç›˜å¤„ç†å°æ–‡ä»¶çš„å»¶è¿Ÿã€‚</p>
<ul>
<li><p><strong>HAWC (High Availability Write Cache):</strong></p>
<ul>
<li><p><strong>åšæ³•ï¼š</strong> åœ¨æ‰€æœ‰ NSD æœåŠ¡å™¨ä¸Šé…ç½®éæ˜“å¤±æ€§å†…å­˜ï¼ˆNVDIMMï¼‰æˆ–æé€Ÿ NVMe SSD ä½œä¸º GPFS çš„ Log&#x2F;Journal åŒºã€‚</p>
</li>
<li><p><strong>æ•ˆæœï¼š</strong> å°æ–‡ä»¶çš„åˆ›å»ºå’Œå†™å…¥åªéœ€å†™å…¥åˆ°è¿™ä¸ªé«˜é€Ÿç¼“å­˜å¹¶åŒæ­¥å…ƒæ•°æ®ï¼Œç«‹åˆ»è¿”å›â€œæˆåŠŸâ€ç»™å®¢æˆ·ç«¯ã€‚åå°å†æ…¢æ…¢åˆ·åˆ°æ…¢é€Ÿç¡¬ç›˜ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>LROC (Local Read-Only Cache):</strong></p>
<ul>
<li><p><strong>åšæ³•ï¼š</strong> åœ¨è®¡ç®—èŠ‚ç‚¹ï¼ˆClientï¼‰çš„æœ¬åœ° SSD ä¸Šå¼€å¯ LROCã€‚</p>
</li>
<li><p><strong>æ•ˆæœï¼š</strong> è¯»è¿‡çš„å°æ–‡ä»¶ç¼“å­˜åœ¨æœ¬åœ° SSDã€‚ä¸‹æ¬¡è¯»å–æ—¶ç›´æ¥èµ°æœ¬åœ° IOï¼Œä¸èµ°ç½‘ç»œï¼Œä¸ç»è¿‡ GPFS Serverï¼Œçœ‹èµ·æ¥å¹¶å‘è¯»å–èƒ½åŠ›â€œæ— é™å¤§â€ã€‚</p>
</li>
</ul>
</li>
</ul>
<h4 id="3-æ•°æ®åˆ†å¸ƒç­–ç•¥ï¼šFPO-File-Placement-Optimizer"><a href="#3-æ•°æ®åˆ†å¸ƒç­–ç•¥ï¼šFPO-File-Placement-Optimizer" class="headerlink" title="3. æ•°æ®åˆ†å¸ƒç­–ç•¥ï¼šFPO (File Placement Optimizer)"></a>3. æ•°æ®åˆ†å¸ƒç­–ç•¥ï¼šFPO (File Placement Optimizer)</h4><p>å¦‚æœæ˜¯åœ¨åšå¤§æ•°æ®æˆ– Hadoop è¿ç§»åœºæ™¯ï¼Œå¯èƒ½ä½¿ç”¨äº† GPFS çš„ FPO åŠŸèƒ½ã€‚</p>
<ul>
<li><p><strong>åŸç†ï¼š</strong> ç±»ä¼¼ HDFS çš„â€œæ•°æ®æœ¬åœ°åŒ–â€ã€‚</p>
</li>
<li><p><strong>åšæ³•ï¼š</strong> è®©å°æ–‡ä»¶çš„æ•°æ®å—ï¼ˆBlockï¼‰å¼ºåˆ¶å­˜æ”¾åœ¨<strong>å‘èµ·å†™å…¥çš„é‚£å°æœºå™¨</strong>çš„æœ¬åœ°ç£ç›˜ä¸Šï¼Œè€Œä¸æ˜¯è·¨ç½‘ç»œå»å­˜ã€‚</p>
</li>
<li><p><strong>æ•ˆæœï¼š</strong> * å†™å…¥æ—¶ï¼šæœ¬åœ°è½ç›˜ï¼Œæ²¡æœ‰ç½‘ç»œå¼€é”€ã€‚</p>
<ul>
<li><p>è¯»å–æ—¶ï¼šè®¡ç®—ä»»åŠ¡è°ƒåº¦åˆ°æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œæœ¬åœ°è¯»å–ã€‚</p>
</li>
<li><p><strong>å®£ç§°å£å¾„ï¼š</strong> â€œå®ç°äº†è®¡ç®—ä¸æ•°æ®çš„å®Œç¾å¹¶è¡Œï¼Œæ¶ˆé™¤äº†ç½‘ç»œç“¶é¢ˆã€‚â€</p>
</li>
</ul>
</li>
</ul>
<h4 id="4-å…ƒæ•°æ®ï¼ˆMetadataï¼‰æ¶æ„çš„æè‡´æ‹†åˆ†"><a href="#4-å…ƒæ•°æ®ï¼ˆMetadataï¼‰æ¶æ„çš„æè‡´æ‹†åˆ†" class="headerlink" title="4. å…ƒæ•°æ®ï¼ˆMetadataï¼‰æ¶æ„çš„æè‡´æ‹†åˆ†"></a>4. å…ƒæ•°æ®ï¼ˆMetadataï¼‰æ¶æ„çš„æè‡´æ‹†åˆ†</h4><p>å¯¹äºå°æ–‡ä»¶ï¼Œç“¶é¢ˆå¾€å¾€åœ¨ <code>create</code>, <code>lookup</code>, <code>stat</code> æ“ä½œä¸Šã€‚</p>
<ul>
<li><p><strong>ç‹¬ç«‹ä¸”å·¨å¤§çš„ Metadata Pool:</strong></p>
<ul>
<li><p><strong>åšæ³•ï¼š</strong> å¼ºåˆ¶è¦æ±‚ Metadata å¿…é¡»å­˜æ”¾åœ¨ Optane (å‚²è…¾) æˆ–é«˜ç«¯ NVMe é˜µåˆ—ä¸Šã€‚</p>
</li>
<li><p><strong>å‚æ•°è°ƒä¼˜ï¼š</strong> å°† <code>inode-size</code> è®¾ä¸º 4KBï¼ˆå¯ç”¨ Data-in-Inodeï¼‰ï¼Œå¹¶ä¸”é¢„å…ˆåˆ†é…æå…¶å·¨å¤§çš„ Inode ç©ºé—´ï¼Œé¿å…åŠ¨æ€æ‰©å±•å¸¦æ¥çš„æ€§èƒ½æŠ–åŠ¨ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>å¤šæ´»å…ƒæ•°æ®æœåŠ¡å™¨ (Multiple Metadata Servers):</strong></p>
<ul>
<li>é€šè¿‡è°ƒæ•´ <code>metanodes</code> å‚æ•°ï¼Œå…è®¸é›†ç¾¤ä¸­æ›´å¤šçš„èŠ‚ç‚¹å‚ä¸å…ƒæ•°æ®ç®¡ç†ï¼Œåˆ†æ‘Š <code>ls -R</code> æˆ–æµ·é‡åˆ›å»ºæ—¶çš„å‹åŠ›ã€‚</li>
</ul>
</li>
</ul>
<h4 id="5-ç›®å½•å“ˆå¸Œä¸é¢„åˆ†é…-åº”ç”¨å±‚è§„çº¦"><a href="#5-ç›®å½•å“ˆå¸Œä¸é¢„åˆ†é…-åº”ç”¨å±‚è§„çº¦" class="headerlink" title="5. ç›®å½•å“ˆå¸Œä¸é¢„åˆ†é… (åº”ç”¨å±‚è§„çº¦)"></a>5. ç›®å½•å“ˆå¸Œä¸é¢„åˆ†é… (åº”ç”¨å±‚è§„çº¦)</h4><p>è¿™å±äºâ€œè½¯ä¼˜åŒ–â€ï¼Œé€šå¸¸æ˜¯æŒ‡å¯¼ç”¨æˆ·ä¿®æ”¹ä»£ç ã€‚</p>
<ul>
<li><p><strong>ç›®å½•æ‰“æ•£ (Directory Sharding):</strong></p>
<ul>
<li><p>å¦‚æœå…¬å¸å£°ç§°ä¼˜åŒ–äº†å¹¶è¡Œï¼Œå¯èƒ½æ˜¯ä»–ä»¬å¼ºåˆ¶å®æ–½äº†ç›®å½•åˆ†å±‚è§„èŒƒã€‚GPFS å¦‚æœåœ¨ä¸€ä¸ªç›®å½•ä¸‹å­˜æ”¾ç™¾ä¸‡çº§æ–‡ä»¶ï¼Œæ€§èƒ½ä¼šéª¤é™ã€‚</p>
</li>
<li><p><strong>ç­–ç•¥ï¼š</strong> å¼ºåˆ¶å°†æ–‡ä»¶ Hash åˆ° <code>/data/a/b/c/</code> è¿™æ ·çš„å¤šçº§ç›®å½•ç»“æ„ä¸­ï¼Œåˆ©ç”¨ GPFS çš„ç›®å½• Hash é”æœºåˆ¶ï¼Œè®©ä¸åŒçš„ Metadata Node å¹¶è¡Œå¤„ç†ä¸åŒçš„å­ç›®å½•ã€‚</p>
</li>
</ul>
</li>
</ul>
<h4 id="6-ç½‘ç»œåè®®ä¼˜åŒ–ï¼šRDMA-x2F-RoCE"><a href="#6-ç½‘ç»œåè®®ä¼˜åŒ–ï¼šRDMA-x2F-RoCE" class="headerlink" title="6. ç½‘ç»œåè®®ä¼˜åŒ–ï¼šRDMA &#x2F; RoCE"></a>6. ç½‘ç»œåè®®ä¼˜åŒ–ï¼šRDMA &#x2F; RoCE</h4><p>è¿™ä¸é’ˆå¯¹å°æ–‡ä»¶ï¼Œä½†å¯¹å°æ–‡ä»¶æ”¶ç›Šå·¨å¤§ã€‚</p>
<ul>
<li><p><strong>åšæ³•ï¼š</strong> å…¨é“¾è·¯å¼€å¯ RDMAï¼ˆInfiniBand æˆ– RoCE v2ï¼‰ã€‚</p>
</li>
<li><p><strong>åŸå› ï¼š</strong> å°æ–‡ä»¶çš„ç‰¹ç‚¹æ˜¯â€œäº¤äº’å¤šã€æ•°æ®å°‘â€ã€‚TCP&#x2F;IP åè®®æ ˆçš„ CPU ä¸­æ–­å¼€é”€åœ¨å°æ–‡ä»¶åœºæ™¯ä¸‹å æ¯”æé«˜ã€‚RDMA ç»•è¿‡ CPUï¼Œèƒ½æ˜¾è‘—é™ä½å°æ–‡ä»¶ä¼ è¾“çš„æ—¶å»¶ï¼ˆLatencyï¼‰ã€‚</p>
</li>
</ul>
<hr>
<h3 id="å¦‚ä½•éªŒè¯ä»–ä»¬çš„â€œä¼˜åŒ–â€å«é‡‘é‡ï¼Ÿ"><a href="#å¦‚ä½•éªŒè¯ä»–ä»¬çš„â€œä¼˜åŒ–â€å«é‡‘é‡ï¼Ÿ" class="headerlink" title="å¦‚ä½•éªŒè¯ä»–ä»¬çš„â€œä¼˜åŒ–â€å«é‡‘é‡ï¼Ÿ"></a>å¦‚ä½•éªŒè¯ä»–ä»¬çš„â€œä¼˜åŒ–â€å«é‡‘é‡ï¼Ÿ</h3><p>å¯ä»¥é—®ä»¥ä¸‹ 3 ä¸ªé—®é¢˜æ¥é€šè¿‡â€œç…§å¦–é•œâ€æŸ¥çœ‹çœŸç›¸ï¼š</p>
<ol>
<li><p><strong>â€œä½ ä»¬æ˜¯ä¼˜åŒ–äº†å•ä¸ªå°æ–‡ä»¶çš„ Stripingï¼Œè¿˜æ˜¯ä¼˜åŒ–äº† Throughputï¼Ÿâ€</strong></p>
<ul>
<li>å¦‚æœæ˜¯å‰è€…ï¼Œå¤§æ¦‚ç‡æ˜¯å¿½æ‚ ï¼ˆé™¤éæ”¹æºç ï¼‰ã€‚å¦‚æœæ˜¯åè€…ï¼Œå±äºæ­£å¸¸è°ƒä¼˜ã€‚</li>
</ul>
</li>
<li><p><strong>â€œæ˜¯å¦ä½¿ç”¨äº† Data-in-Inodeï¼Ÿå¦‚æœæ–‡ä»¶å¤§å°ç¨å¾®è¶…è¿‡ 4KB æ€§èƒ½ä¼šæ€æ ·ï¼Ÿâ€</strong></p>
<ul>
<li>è¿™èƒ½çœ‹å‡ºä»–ä»¬æ˜¯å¦å•çº¯ä¾èµ– GPFS çš„å†…åµŒæ•°æ®ç‰¹æ€§ã€‚å¦‚æœè¶…è¿‡ 4KB æ€§èƒ½æ–­å´–å¼ä¸‹è·Œï¼Œè¯´æ˜é™¤æ­¤ä¹‹å¤–æ²¡æ‹›äº†ã€‚</li>
</ul>
</li>
<li><p><strong>â€œæ˜¯å¦æœ‰å®¢æˆ·ç«¯ä¾§çš„èšåˆï¼ˆAggregationï¼‰ä¸­é—´ä»¶ï¼Ÿâ€</strong></p>
<ul>
<li>å¦‚æœæœ‰ï¼Œè¿™æ„å‘³ç€ä½ çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦ä¿®æ”¹ä»£ç ï¼ˆè°ƒç”¨ä»–ä»¬çš„ APIï¼‰ï¼Œæˆ–è€…éœ€è¦æ¥å—éæ ‡å‡†çš„æŒ‚è½½æ–¹å¼ã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“ï¼š</strong> çœŸæ­£çš„ä¼˜åŒ–é€šå¸¸æ˜¯ <strong>â€œå…¨é—ªå­˜å…ƒæ•°æ®ç›˜â€ + â€œData-in-Inodeâ€ + â€œå¤§å†…å­˜ç¼“å­˜(Pagepool)â€ + â€œRDMA ç½‘ç»œâ€</strong> çš„ç»„åˆæ‹³ã€‚æ‰€è°“çš„â€œé»‘ç§‘æŠ€â€é€šå¸¸åªæ˜¯åº”ç”¨å±‚çš„èšåˆï¼ˆAggregationï¼‰ã€‚</p>
<h3 id="5-4-å…¼å®¹å±‚"><a href="#5-4-å…¼å®¹å±‚" class="headerlink" title="5.4 å…¼å®¹å±‚"></a>5.4 å…¼å®¹å±‚</h3><p> <strong>GPFS çš„ GPL å¼€æºå…¼å®¹å±‚ï¼ˆGPL Portability Layerï¼‰</strong> ä¸­éå¸¸æ¥è¿‘æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä¸“é—¨ç”¨äºå¤„ç† <strong>GPFS ä¸ Linux å†…æ ¸ NFS æœåŠ¡ (CNFS&#x2F;KNFS)</strong> çš„äº¤äº’ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç é‡Œçš„å‡ ä¸ªâ€œè¡Œè¯â€æ¥ç¡®å‡¿åœ°é‰´å®šå®ƒï¼š</p>
<h4 id="1-é“è¯ï¼šâ€œData-Shippingâ€-æ•°æ®æ¬è¿"><a href="#1-é“è¯ï¼šâ€œData-Shippingâ€-æ•°æ®æ¬è¿" class="headerlink" title="1. é“è¯ï¼šâ€œData Shippingâ€ (æ•°æ®æ¬è¿)"></a>1. é“è¯ï¼šâ€œData Shippingâ€ (æ•°æ®æ¬è¿)</h4><p>è¯·çœ‹ä»£ç ä¸­è¿™å¥æå…¶å…³é”®çš„æ³¨é‡Šï¼š</p>
<blockquote>
<p><code>/* We cannot use pNFS if data shipping is used ... */</code></p>
</blockquote>
<ul>
<li><p><strong>ä»€ä¹ˆæ˜¯ Data Shippingï¼Ÿ</strong> è¿™æ˜¯ GPFS (Spectrum Scale) æ¶æ„ä¸­ç‰¹æœ‰çš„æœ¯è¯­ã€‚</p>
<ul>
<li><p><strong>Direct Access:</strong> èŠ‚ç‚¹ç›´æ¥è¯»å†™ç‰©ç†ç£ç›˜ï¼ˆå¿«ï¼‰ã€‚</p>
</li>
<li><p><strong>Data Shipping:</strong> èŠ‚ç‚¹æ— æ³•ç›´æ¥è®¿é—®ç£ç›˜ï¼Œå¿…é¡»è¯·æ±‚å¦ä¸€ä¸ªèŠ‚ç‚¹æŠŠæ•°æ®é€šè¿‡ç½‘ç»œâ€œæ¬è¿â€è¿‡æ¥ï¼ˆæ…¢ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>è¯æ®åŠ›ï¼š</strong> ç»å¤§å¤šæ•°é€šç”¨æ–‡ä»¶ç³»ç»Ÿï¼ˆext4, xfsï¼‰æˆ–è€…å…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆCeph, Glusterï¼‰éƒ½ä¸ä½¿ç”¨ â€œData Shippingâ€ è¿™ä¸ªç‰¹å®šçš„æœ¯è¯­æ¥æè¿°è¿™ç§æœºåˆ¶ã€‚è¿™æ˜¯ GPFS çš„â€œæ–¹è¨€â€ã€‚</p>
</li>
</ul>
<h4 id="2-é“è¯ï¼šâ€œsx-byte-range-locksâ€-å…±äº«-x2F-æ’ä»–å­—èŠ‚èŒƒå›´é”"><a href="#2-é“è¯ï¼šâ€œsx-byte-range-locksâ€-å…±äº«-x2F-æ’ä»–å­—èŠ‚èŒƒå›´é”" class="headerlink" title="2. é“è¯ï¼šâ€œsx byte range locksâ€ (å…±äº«&#x2F;æ’ä»–å­—èŠ‚èŒƒå›´é”)"></a>2. é“è¯ï¼šâ€œsx byte range locksâ€ (å…±äº«&#x2F;æ’ä»–å­—èŠ‚èŒƒå›´é”)</h4><p>æ³¨é‡ŠååŠéƒ¨åˆ†ï¼š</p>
<blockquote>
<p><code>... since DS also uses sx byte range locks.</code></p>
</blockquote>
<ul>
<li><p>GPFS çš„æ ¸å¿ƒå¼ºé¡¹å°±æ˜¯å…¶å¤æ‚çš„åˆ†å¸ƒå¼é”ç®¡ç†å™¨ (Token Manager)ã€‚</p>
</li>
<li><p><strong>SX Lock</strong> (Shared&#x2F;Exclusive Lock) æ˜¯ GPFS å†…éƒ¨ç®¡ç†å¹¶å‘å†™å…¥ä¸€è‡´æ€§çš„æ ¸å¿ƒæœºåˆ¶ã€‚è¿™æ®µä»£ç åœ¨è§£é‡Šä¸ºä»€ä¹ˆè¦åœ¨ç‰¹å®šæƒ…å†µä¸‹ç¦ç”¨ pNFS â€”â€” å› ä¸ºâ€œæ•°æ®æ¬è¿â€æœºåˆ¶å’Œâ€œpNFS å¹¶è¡Œè®¿é—®â€åœ¨é”çš„æœºåˆ¶ä¸Šä¼šæ‰“æ¶ã€‚</p>
</li>
</ul>
<h4 id="3-ä»£ç é€»è¾‘åˆ†æï¼šå®ƒåœ¨åšä»€ä¹ˆï¼Ÿ"><a href="#3-ä»£ç é€»è¾‘åˆ†æï¼šå®ƒåœ¨åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="3. ä»£ç é€»è¾‘åˆ†æï¼šå®ƒåœ¨åšä»€ä¹ˆï¼Ÿ"></a>3. ä»£ç é€»è¾‘åˆ†æï¼šå®ƒåœ¨åšä»€ä¹ˆï¼Ÿ</h4><p>è¿™æ®µä»£ç æ­£åœ¨åš <strong>â€œèƒ½åŠ›åå•†â€</strong>ã€‚</p>
<ol>
<li><p><strong>åœºæ™¯ï¼š</strong> è¿™æ˜¯ä¸€ä¸ª Linux èŠ‚ç‚¹ï¼ŒæŒ‚è½½äº† GPFSï¼Œå¹¶ä¸”è¯•å›¾é€šè¿‡ NFS åè®®æŠŠè¿™ä¸ª GPFS ç›®å½•å…±äº«å‡ºå»ï¼ˆExportï¼‰ã€‚</p>
</li>
<li><p><strong>åˆ¤æ–­ï¼š</strong> ä»£ç æ­£åœ¨æ£€æŸ¥ <code>vinfoP</code> (vnode info pointerï¼Œæ–‡ä»¶èŠ‚ç‚¹ä¿¡æ¯)ã€‚</p>
</li>
<li><p><strong>å†²çªæ£€æµ‹ï¼š</strong></p>
<ul>
<li><p>å¦‚æœå½“å‰å¤„äº <strong>Data Shipping</strong> æ¨¡å¼ï¼ˆæ„å‘³ç€æœ¬æœºè®¿é—®ç£ç›˜å¾ˆæ…¢ï¼Œæˆ–è€…æ²¡æœ‰ç›´è¿ç£ç›˜ï¼‰ï¼Œ</p>
</li>
<li><p>å¹¶ä¸”è¯•å›¾å¼€å¯ <strong>pNFS</strong> (Parallel NFSï¼Œä¸€ç§è®©å®¢æˆ·ç«¯å¹¶è¡Œç›´è¿å­˜å‚¨çš„é«˜çº§ NFS åŠŸèƒ½)ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>å†³å®šï¼š</strong> æ­¤æ—¶ä»£ç è¯´â€œä¸è¡Œâ€ (<code>pNFS = false</code>)ã€‚</p>
<ul>
<li><strong>åŸå› ï¼š</strong> å¦‚æœä½ æœ¬æœºéƒ½è¿˜è¦é åˆ«äººæ¬è¿æ•°æ®ï¼Œå°±åˆ«å¯¹å¤–å®£ç§°æ”¯æŒ pNFS å¹¶è¡Œç›´è¿äº†ï¼Œè€Œä¸”é”æœºåˆ¶ä¼šå†²çªã€‚</li>
</ul>
</li>
</ol>
<h4 id="4-ç»“è®ºï¼šè¿™æ®µä»£ç å±äºå“ªï¼Ÿ"><a href="#4-ç»“è®ºï¼šè¿™æ®µä»£ç å±äºå“ªï¼Ÿ" class="headerlink" title="4. ç»“è®ºï¼šè¿™æ®µä»£ç å±äºå“ªï¼Ÿ"></a>4. ç»“è®ºï¼šè¿™æ®µä»£ç å±äºå“ªï¼Ÿ</h4><p>è¿™æ®µä»£ç é€šå¸¸ä½äº GPFS å®‰è£…åŒ…ä¸­çš„ <code>/usr/lpp/mmfs/src/</code> ç›®å½•ä¸‹ã€‚</p>
<ul>
<li><p><strong>å®ƒæ˜¯ GPFS çš„æºç å—ï¼Ÿ</strong> æ˜¯çš„ï¼Œå®ƒæ˜¯ IBM ç¼–å†™å¹¶åˆ†å‘ç»™ä½ çš„ GPFS æºä»£ç ã€‚</p>
</li>
<li><p><strong>å®ƒæ˜¯é—­æºæ ¸å¿ƒå—ï¼Ÿ</strong> <strong>ä¸æ˜¯ã€‚</strong></p>
<ul>
<li><p>å®ƒæ˜¯ <strong>GPL Portability Layer (GPL å…¼å®¹å±‚)</strong> çš„ä¸€éƒ¨åˆ†ã€‚</p>
</li>
<li><p><strong>ä¸ºä»€ä¹ˆä½ èƒ½çœ‹åˆ°å®ƒï¼Ÿ</strong> å› ä¸ºè¿™æ®µä»£ç å¿…é¡»å’Œ Linux å†…æ ¸ï¼ˆGPLåè®®ï¼‰è¿›è¡Œé“¾æ¥ã€‚ä¸ºäº†ä¸è¿å Linux çš„å¼€æºåè®®ï¼ŒIBM <strong>è¢«è¿«</strong> å°†è¿™éƒ¨åˆ†â€œèƒ¶æ°´ä»£ç â€å¼€æºã€‚</p>
</li>
<li><p><strong>å®ƒçš„ä½œç”¨ï¼š</strong> å®ƒæ˜¯è¿æ¥ Linux å†…æ ¸æ ‡å‡† NFS æœåŠ¡ (<code>knfsd</code>) å’Œ GPFS é—­æºæ ¸å¿ƒ (<code>mmfs</code> æ¨¡å—) çš„æ¡¥æ¢ã€‚</p>
</li>
</ul>
</li>
</ul>
<h4 id="5-ä½ç½®"><a href="#5-ä½ç½®" class="headerlink" title="5. ä½ç½®"></a>5. ä½ç½®</h4><p>è¿™ä¸ªâ€œå…¼å®¹å±‚â€ï¼ˆGPL Portability Layerï¼‰çš„æºç å¹¶ä¸åœ¨ç¥ç§˜çš„åœ°æ–¹ï¼Œå®ƒå°±é™é™åœ°èººåœ¨ä½ å®‰è£…äº† GPFSï¼ˆIBM Spectrum Scaleï¼‰çš„æ¯ä¸€å° Linux æœºå™¨ä¸Šã€‚</p>
<p>åªè¦ä½ å®‰è£…äº† GPFS çš„åŸºæœ¬åŒ…ï¼Œæºç é€šå¸¸ä½äºä»¥ä¸‹æ ‡å‡†è·¯å¾„ï¼š</p>
<h5 id="1-æ ¸å¿ƒè·¯å¾„-The-Holy-Grail"><a href="#1-æ ¸å¿ƒè·¯å¾„-The-Holy-Grail" class="headerlink" title="1. æ ¸å¿ƒè·¯å¾„ (The Holy Grail)"></a>1. æ ¸å¿ƒè·¯å¾„ (The Holy Grail)</h5><p>æ‰€æœ‰å¯¹å¤–å…¬å¼€çš„â€œèƒ¶æ°´ä»£ç â€éƒ½é›†ä¸­åœ¨è¿™é‡Œï¼š</p>
<p>Bash<br>    &#x2F;usr&#x2F;lpp&#x2F;mmfs&#x2F;src&#x2F;</p>
<h5 id="2-å…·ä½“ç›®å½•ç»“æ„è§£æ"><a href="#2-å…·ä½“ç›®å½•ç»“æ„è§£æ" class="headerlink" title="2. å…·ä½“ç›®å½•ç»“æ„è§£æ"></a>2. å…·ä½“ç›®å½•ç»“æ„è§£æ</h5><p>è¿›å…¥è¿™ä¸ªç›®å½•åï¼Œä½ ä¼šçœ‹åˆ°å‡ ä¸ªå…³é”®çš„å­ç›®å½•ï¼Œå®ƒä»¬å¯¹åº”ä¸åŒçš„åŠŸèƒ½ï¼š</p>
<ul>
<li><p><strong><code>/usr/lpp/mmfs/src/gpl-linux/</code></strong></p>
<ul>
<li><p><strong>è¿™æ˜¯ä½ æœ€å…³å¿ƒçš„éƒ¨åˆ†ã€‚</strong></p>
</li>
<li><p>è¿™é‡Œå­˜æ”¾äº† GPFS å¯¹æ¥ Linux å†…æ ¸ VFSï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰çš„æ‰€æœ‰ä»£ç ã€‚</p>
</li>
<li><p><strong>å…³é”®æ–‡ä»¶ï¼š</strong> ä½ ä¼šåœ¨é‡Œé¢æ‰¾åˆ°ç±»ä¼¼ <code>kdump.c</code>, <code>mmfs_linux.c</code> ç­‰æ–‡ä»¶ã€‚è¿™äº›ä»£ç å®šä¹‰äº† Linux å†…æ ¸å¦‚ä½•è°ƒç”¨ GPFSï¼ˆæ¯”å¦‚ <code>inode_operations</code>, <code>file_operations</code> ç»“æ„ä½“çš„æ˜ å°„ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li><p><strong><code>/usr/lpp/mmfs/src/config/</code></strong></p>
<ul>
<li><p>è¿™é‡Œå­˜æ”¾çš„æ˜¯ç¼–è¯‘è„šæœ¬ï¼ˆMakefilesï¼‰å’Œç¯å¢ƒæ£€æµ‹è„šæœ¬ã€‚</p>
</li>
<li><p>å½“ä½ è¿è¡Œ <code>mmbuildgpl</code> å‘½ä»¤ç¼–è¯‘å†…æ ¸æ¨¡å—æ—¶ï¼Œå°±æ˜¯è¿™é‡Œé¢çš„è„šæœ¬åœ¨å·¥ä½œã€‚</p>
</li>
</ul>
</li>
<li><p><strong><code>/usr/lpp/mmfs/include/</code></strong> (è™½ç„¶ä¸åœ¨ src ä¸‹ï¼Œä½†ç´§å¯†ç›¸å…³)</p>
<ul>
<li><p>è¿™é‡Œå­˜æ”¾äº†å¤´æ–‡ä»¶ï¼ˆHeader Filesï¼‰ï¼Œä¾‹å¦‚ <code>gpfs.h</code>ã€‚</p>
</li>
<li><p>å¦‚æœä½ æƒ³å†™ä¸€ä¸ª C ç¨‹åºæ¥è°ƒç”¨ GPFS çš„ APIï¼ˆæ¯”å¦‚å‰é¢çœ‹åˆ°çš„ <code>gpfs_ganesha</code> æ¥å£ï¼‰ï¼Œå°±éœ€è¦å¼•ç”¨è¿™é‡Œçš„å¤´æ–‡ä»¶ã€‚</p>
</li>
</ul>
</li>
</ul>
<h5 id="3-å…³äºä½ ä¹‹å‰æˆªå›¾çš„ä»£ç -NFS-Ganesha"><a href="#3-å…³äºä½ ä¹‹å‰æˆªå›¾çš„ä»£ç -NFS-Ganesha" class="headerlink" title="3. å…³äºä½ ä¹‹å‰æˆªå›¾çš„ä»£ç  (NFS-Ganesha)"></a>3. å…³äºä½ ä¹‹å‰æˆªå›¾çš„ä»£ç  (NFS-Ganesha)</h5><p><strong>æ³¨æ„ï¼š</strong> ä½ ä¸Šä¸€å¼ æˆªå›¾é‡Œçš„ä»£ç ï¼ˆæ¶‰åŠ FSAL å’Œ <code>gpfs_ganesha</code> è°ƒç”¨ï¼‰é€šå¸¸<strong>ä¸</strong>åŒ…å«åœ¨ <code>/usr/lpp/mmfs/src</code> é‡Œã€‚</p>
<p>é‚£éƒ¨åˆ†ä»£ç å±äº <strong>NFS-Ganesha</strong> å¼€æºé¡¹ç›®ã€‚å®ƒçš„ä½ç½®å–å†³äºä½ æ˜¯æ€ä¹ˆå®‰è£… NFS-Ganesha çš„ï¼š</p>
<ol>
<li><p><strong>å¦‚æœæ˜¯ä» GitHub ä¸‹è½½æºç ç¼–è¯‘ï¼š</strong></p>
<ul>
<li><p>è·¯å¾„é€šå¸¸åœ¨ï¼š<code>nfs-ganesha/src/FSAL/FSAL_GPFS/</code></p>
</li>
<li><p>ä½ å¯ä»¥ç›´æ¥è®¿é—® GitHub æŸ¥çœ‹ï¼š<a class="link"   target="_blank" rel="noopener" href="https://github.com/nfs-ganesha/nfs-ganesha" >GitHub - nfs-ganesha&#x2F;nfs-ganesha: NFS-Ganesha is an NFSv3,v4,v4.1 fileserver that runs in user mode on most UNIX&#x2F;Linux systems <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
</li>
<li><p><strong>å¦‚æœæ˜¯é€šè¿‡ IBM å®‰è£…åŒ…å®‰è£…çš„ Ganeshaï¼š</strong></p>
<ul>
<li>IBM é€šå¸¸åªæä¾›ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ (<code>rpm</code> æˆ– <code>deb</code>)ï¼Œæºç å¯èƒ½ä¸ä¼šç›´æ¥é‡Šæ”¾åˆ°ä½ çš„ç£ç›˜ä¸Šã€‚ä½ éœ€è¦å»ä¸‹è½½å¯¹åº”çš„ <code>.src.rpm</code> åŒ…è§£å‹æ‰èƒ½çœ‹åˆ°æºç ã€‚</li>
</ul>
</li>
</ol>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><ul>
<li><p>å¦‚æœä½ æƒ³çœ‹ <strong>GPFS å¦‚ä½•å¯¹æ¥ Linux å†…æ ¸</strong>ï¼šå» <code>/usr/lpp/mmfs/src/gpl-linux/</code>ã€‚</p>
</li>
<li><p>å¦‚æœä½ æƒ³çœ‹ <strong>NFS å¦‚ä½•å¯¹æ¥ GPFS</strong>ï¼ˆä½ æˆªå›¾çš„éƒ¨åˆ†ï¼‰ï¼šå» GitHub æœ <code>nfs-ganesha</code> é¡¹ç›®ä¸‹çš„ <code>FSAL_GPFS</code> ç›®å½•ã€‚</p>
</li>
</ul>
<p><strong>ä½ å¯ä»¥ç°åœ¨å»ä½ çš„æœºå™¨ä¸Šè¿è¡Œ <code>ls -F /usr/lpp/mmfs/src/</code> çœ‹çœ‹æ˜¯å¦æœ‰è¿™äº›æ–‡ä»¶ã€‚</strong></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a class="link"   target="_blank" rel="noopener" href="https://www.modb.pro/db/444635" >æ·±å…¥ç†è§£Lustreåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¹‹Lustreæ¶æ„ - å¢¨å¤©è½® <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/635991046" >æ·±å…¥ç†è§£ Lustre ç³»åˆ—å…­ï¼šLIBCFS - çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/news/229014" >HPCé«˜æ€§èƒ½è®¡ç®—çŸ¥è¯†ï¼šæ·±åº¦è§£æLustreä½“ç³»ç»“æ„ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://wiki.lustre.org/Mounting_a_Lustre_File_System_on_Client_Nodes" >Mounting a Lustre File System on Client Nodes - Lustre Wiki <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/jpa2/archive/2012/03/08/2527876.html" >æ·±å…¥ç†è§£Lustreæ–‡ä»¶ç³»ç»Ÿ-ç¬¬3ç¯‡ lustre lite - myjava2 - åšå®¢å›­ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2074615" >åˆæ¢lustreæ–‡ä»¶åˆ›å»ºçš„è¿‡ç¨‹-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2226433" >æ·±å…¥æµ…å‡ºLustreæ‰©å±•å±æ€§-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/632518511" >æ·±å…¥ç†è§£ Lustre ç³»åˆ—ä¸€ï¼šLustre æ¶æ„ - çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.modb.pro/db/220673" >Lustre PCC åˆæ¢ - å¢¨å¤©è½® <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/fsdev/article/details/7317414" >æ·±å…¥ç†è§£Lustreæ–‡ä»¶ç³»ç»Ÿ-ç¬¬4ç¯‡ LOVå’ŒOSC_æ·±å…¥ç†è§£ lustre-CSDNåšå®¢ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/jinking01/article/details/105581078" >linuxå†…æ ¸è¯»å†™IOè¿‡ç¨‹ä¸­çš„iovecåŠå…¶ç›¸å…³çš„ç»“æ„ä½“-CSDNåšå®¢ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2074582" >lustreå®¢æˆ·ç«¯å®ç°çš„ç­”ç–‘è§£æƒ‘-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/jpa2/archive/2012/03/08/2527876.html" >æ·±å…¥ç†è§£Lustreæ–‡ä»¶ç³»ç»Ÿ-ç¬¬3ç¯‡ lustre lite - myjava2 - åšå®¢å›­ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a target="_blank" rel="noopener" href="https://fdgpo.com/Home/Goods/goods/id/5181.html">æµªæ½® AS13000G6-H24ï¼ˆGPFSæˆæƒ &#x2F;2<em>è‡³å¼º4314&#x2F;16</em>16GB&#x2F;2<em>480G SSD&#x2F;6</em>7.68TB NVMe SSD&#x2F;12<em>16TB SAS HDD&#x2F;2</em>1300W&#x2F;å«æœºæˆ¿ç®¡ç†è½¯ä»¶åŠæŠ€æœ¯å’¨è¯¢æœåŠ¡+3å¹´è´¨ä¿ï¼‰-æ²¸ç‚¹å•†åŸ</a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.ibm.com/docs/zh/db2/10.5.0?topic=tasks-compiling-gpfs-portability-layer-module" >ç¼–è¯‘â€œGPFS å¯ç§»æ¤æ€§å±‚â€æ¨¡å— - IBM æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://bugwz.com/2024/08/01/gpfs/index.html" >GPFS é›†ç¾¤éƒ¨ç½²ä¸è¿ç»´è®°å½• | å’•å’• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/IBM/ibm-spectrum-scale-install-infra" >IBM&#x2F;ibm-spectrum-scale-install-infra: Spectrum Scale Installation and Configuration <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://githubrsp.com/15399.html" >æ·±å…¥æ¢ç´¢GPFSåœ¨GitHubä¸Šçš„åº”ç”¨ä¸å®ç° - githubä¸­æ–‡ç«™ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/topics/gpfs" >gpfs Â· GitHub Topics <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.ibm.com/docs/en/storage-scale/5.2.3?topic=nodes-building-gpfs-portability-layer-linux" >Building the GPFS portability layer on Linux nodes - IBM Documentation <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> lustreä¸gpfså­¦ä¹ </li>
        <li><strong>Author:</strong> Ethereal</li>
        <li><strong>Created at:</strong> 2024-12-02 00:12:48</li>
        
            <li>
                <strong>Updated at:</strong> 2025-12-08 21:03:57
            </li>
        
        <li>
            <strong>Link:</strong> https://ethereal-o.github.io/2024/12/02/lustreä¸gpfså­¦ä¹ /
        </li>
        <li>
            <strong>License:</strong> This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>.
        </li>
    </ul>
</div>

                </div>
            

            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/2024/12/22/nfs-ganesha%E8%B7%AF%E5%BE%84%E6%A2%B3%E7%90%86/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">nfs-ganeshaè·¯å¾„æ¢³ç†</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2024/11/20/redis-insight/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">redis-insight</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;Comments
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://example.example.com',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">lustreä¸gpfså­¦ä¹ </div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%89%B9%E7%82%B9"><span class="nav-text">1. ç‰¹ç‚¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-lustre%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"><span class="nav-text">2. lustreæ ¸å¿ƒç»„ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%B8%83%E5%B1%80"><span class="nav-text">3. å¸ƒå±€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E8%AE%BF%E9%97%AE%E6%B5%81%E7%A8%8B"><span class="nav-text">4. è®¿é—®æµç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-text">4. ä»£ç åˆ†æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E6%89%A7%E8%A1%8C%E6%B5%81"><span class="nav-text">4.1 æ‰§è¡Œæµ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-GPFS"><span class="nav-text">5. GPFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-GPFS%E5%B0%8F%E6%96%87%E4%BB%B6%E5%B9%B6%E8%A1%8C"><span class="nav-text">5.1 GPFSå°æ–‡ä»¶å¹¶è¡Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-GPFS%E8%B0%83%E4%BC%98"><span class="nav-text">5.2 GPFSè°ƒä¼˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%B0%8F%E6%96%87%E4%BB%B6%E4%BC%98%E5%8C%96%E6%96%B9%E5%90%91"><span class="nav-text">5.3 å°æ–‡ä»¶ä¼˜åŒ–æ–¹å‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E4%BB%96%E4%BB%AC%E7%9A%84%E2%80%9C%E4%BC%98%E5%8C%96%E2%80%9D%E5%90%AB%E9%87%91%E9%87%8F%EF%BC%9F"><span class="nav-text">å¦‚ä½•éªŒè¯ä»–ä»¬çš„â€œä¼˜åŒ–â€å«é‡‘é‡ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E5%85%BC%E5%AE%B9%E5%B1%82"><span class="nav-text">5.4 å…¼å®¹å±‚</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">å‚è€ƒ</span></a></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2023</span>
              -
            
            2026&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Ethereal</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br>
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.2.1</a>
        </div>
        
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/navbarShrink.js"></script>

<script src="/js/tools/scrollTopBottom.js"></script>

<script src="/js/tools/lightDarkSwitch.js"></script>





    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>







<div class="post-scripts pjax">
    
        
<script src="/js/tools/tocToggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
